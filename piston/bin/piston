#!/usr/bin/env ruby
if ENV["NOGEM"] then
  require "pathname"
  root = Pathname.new(File.dirname(__FILE__)).parent
  $:.unshift((root + "lib").realpath)
  $:.unshift((root + "../piston-core/lib").realpath)
  $:.unshift((root + "../piston-svn/lib").realpath)
  $:.unshift((root + "../piston-git/lib").realpath)
else
  require "piston/version"
  gem "piston-core", "= #{Piston::VERSION::STRING}"
  gem "piston-svn", "= #{Piston::VERSION::STRING}"
  gem "piston-git", "= #{Piston::VERSION::STRING}"
end

# Chain to the real command-line client
require "piston/core/cli"
